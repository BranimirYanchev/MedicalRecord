<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>Лекари – Медицинско досие</title>


    <!-- Page-specific -->
    <link rel="stylesheet" href="../styles/pages/doctors.css">

    <!-- Global styles -->
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/layout.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="../styles/animations.css">
</head>

<body class="app-body fade-in">

<div class="app-shell">

    <!-- SIDEBAR -->
    <aside class="sidebar" data-show="ADMIN,DOCTOR">
        <div class="sidebar__header">
            <div class="sidebar__logo-circle">MD</div>
            <div class="sidebar__title-wrap">
                <span class="sidebar__subtitle">Админ панел</span>
                <span class="sidebar__title">Медицинско досие</span>
            </div>
        </div>

        <nav class="sidebar__nav">
            <a href="index.html" class="nav-link" data-show="ADMIN,DOCTOR">
                <span class="nav-link__dot"></span>
                <span>Табло</span>
            </a>

            <a href="doctors.html" class="nav-link nav-link--active" data-show="ADMIN">
                <span class="nav-link__dot"></span>
                <span>Лекари</span>
            </a>

            <a href="patients.html" class="nav-link" data-show="ADMIN, DOCTOR">
                <span class="nav-link__dot"></span>
                <span>Пациенти</span>
            </a>

            <a href="visits.html" class="nav-link" data-show="ADMIN,DOCTOR,PATIENT">
                <span class="nav-link__dot"></span>
                <span>Посещения</span>
            </a>

            <a href="diagnosis.html" class="nav-link" data-show="ADMIN,DOCTOR">
                <span class="nav-link__dot"></span>
                <span>Диагнози</span>
            </a>

            <a href="leaves.html" class="nav-link" data-show="ADMIN,DOCTOR">
                <span class="nav-link__dot"></span>
                <span>Болнични листове</span>
            </a>

            <a href="reports.html" class="nav-link" data-show="ADMIN">
                <span class="nav-link__dot"></span>
                <span>Справки</span>
            </a>
        </nav>

        <div class="sidebar__footer">
            <span class="sidebar__footer-label">Влезнал като</span>
            <span class="sidebar__footer-role" id="roleLabel">Администратор</span>
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main" data-show="ADMIN,DOCTOR">

        <!-- TOPBAR -->
        <header class="topbar">
            <div>
                <h1 class="topbar__title">Лекари</h1>
                <p class="topbar__subtitle">Управление на всички лекари в системата</p>
            </div>

            <div class="topbar__right">
                <button class="btn btn--primary logout-btn" id="logoutBtn">Изход</button>
            </div>
        </header>

        <!-- CONTENT GRID -->
        <section class="page-grid">

            <!-- DOCTOR LIST -->
            <div class="card card--glass slide-up" data-show="ADMIN,DOCTOR">
                <h2 class="card__title">Списък с лекари</h2>
                <p class="card__subtitle">Всички регистрирани лекари</p>

                <table class="table doctors-table">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Име</th>
                        <th>Специалност</th>
                        <th>Личен лекар</th>
                        <th data-show="ADMIN">Действия</th>
                    </tr>
                    </thead>

                    <tbody id="doctorsTable">
                    <!-- JS injected rows -->
                    </tbody>
                </table>
            </div>

            <!-- ADD DOCTOR -->
            <div class="card card--glass slide-up" style="animation-delay: .12s" data-show="ADMIN">
                <h2 class="card__title">Добавяне на лекар</h2>
                <p class="card__subtitle">Въведете информация за нов лекар</p>

                <form id="addDoctorForm" class="form">
                    <input type="hidden" id="editId">
                    <div class="form-group">
                        <label>Име</label>
                        <input id="dName" type="text" placeholder="Име на лекар" required>
                    </div>

                    <div class="form-group" data-show="ADMIN">
                        <label>Парола (за вход)</label>
                        <input id="dPassword" type="password" placeholder="Парола за доктора" required>
                    </div>

                    <div class="form-group">
                        <label>Специалност</label>
                        <input id="dSpec" type="text" placeholder="Специалност" required>
                    </div>

                    <div class="form-group check-inline">
                        <input type="checkbox" id="dPD">
                        <label for="dPD">Личен лекар</label>
                    </div>

                    <button type="submit" class="btn btn--primary" data-role="ADMIN">Добави</button>
                </form>
            </div>

        </section>

    </main>

</div>

<!-- PAGE JS -->
<script type="module" src="../js/core/api.js"></script>
<script type="module" src="../js/doctors.js"></script>
<script src="../js/core/role-guard.js"></script>
</body>
</html>
